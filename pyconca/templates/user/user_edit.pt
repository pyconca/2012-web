<div metal:use-macro="layout">
    <div metal:fill-slot="content">

        <div class="row-fluid">
            <div class="span12">
                <br>
                <div class="alert alert-error" tal:condition="validation_dict">
                    <span tal:repeat="key validation_dict">
                      ${validation_dict[key].msg}: ${key}
                      <br/>
                    </span>
                </div>
                <h1>
                    <a tal:attributes="href index_url">users</a> / 
                    <span tal:condition="user.id" tal:replace="user.username">
                    <span tal:condition="not user.id">create</span>
                </h1>
                <hr>
                <form class="form-horizontal" action="${user.save_url}" method="POST">

                    <div class="control-group">
                        <label class="control-label" for="first_name">First Name</label>
                        <div class="controls">
                            <input type="text" maxlength="100" name="first_name" value="${user.first_name}">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="last_name">Last Name</label>
                        <div class="controls">
                            <input type="text" maxlength="100" name="last_name" value="${user.last_name}">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="username">Username</label>
                        <div class="controls">
                            <input type="text" maxlength="30" name="username" value="${user.username}">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="email">Email Address</label>
                        <div class="controls">
                            <input type="text" maxlength="100" name="email" value="${user.email}">
                        </div>
                    </div>

                    <input class="btn btn-primary" type="submit" value="Save"/>
                    <a class="btn" type="submit" href='${index_url}'>Cancel</a>
                </form>
            </div>
        </div>

    </div><!-- content slot -->
</div><!-- layout template -->
